<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" media="screen and (max-width: 1192px)" href="/css/phone.css">
  <link rel="stylesheet" media="screen and (min-width: 1190px)" href="/css/tab.css">
  <link rel="shortcut icon" href="images/B_logo Original_prev_ui.png" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <script src="/Javascript/script.js"></script>

  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
  <title>Learn to code - Bubbles</title>
</head>
<style>
  body {
      font-family: "Montserrat", sans-serif;
      font-optical-sizing: auto;
      font-weight: 400;
      font-style: normal;
  }
  nav {
      z-index: 9;
  }
  .container {
      width: 80%;
      margin: auto;
      padding: 20px;
      padding-top: 100px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
  }
  .post {
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s, box-shadow 0.2s;
      overflow: hidden;
      cursor: pointer;
      background-color: #dfdfdf; /* Default background color */
      
  }
  .post-content {
      padding: 20px;
      background: #dfdfdf;
  }
  .post:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
  }
  .post img {
      display: none; /* Hide image */
  }
  .post h2 {
      margin-top: 0;
      font-size: 24px;
      color: black;
  }
  .post .date {
      font-size: 13px;
      color: rgba(0, 0, 0, 0.568);
  }
  .post p {
      color: #000000a9;
      line-height: 1.5;
      font-size: 16px;
  }
  p.date{
    margin-top: 10px;
    margin-bottom: 10px;
    color: #838383 !important;
  }
  @media only screen and (max-width: 800px) {
      .container {
          width: 90%;
      }
      .post h2 {
          font-size: 20px;
      }
  }
</style>
<body class="body">
  <div class="whole-navbar">
    <div class="nav">
      <div class="navbar">
        <a style="text-decoration: none;" href="">
          <!-- <img src="images/logu.png" style="width: 10px;" alt=""> -->
          <h1 style="color: #4299e1;">Bubbles.com</h1>
        </a>
        <ul class="navbar-ul">
          <li><a href="/index.html">Home</a></li>
          <li><a href="/services/services.html">Services</a></li>
          <li><a href="/contact/contact.html">Contact</a></li>
          <li><a href="/aboutus/about.html">About us</a></li>
          <li><a href="/Blogs/blog.html">Blog</a></li>
          <li><a href="/Notes/notes.html">Notes</a></li>
          <li><a href="/WorkWithUs/work.html">Work with us</a></li>
          <li><span style="color: white; cursor: pointer;" onclick="darkmode()" id="darkmode"
              class="material-symbols-outlined">dark_mode</span></li>
          <li><span style="color: white; cursor: pointer;" onclick="yellowmode()" id="darkmode"
              class="material-symbols-outlined">light_mode</span></li>
          <li><button><a href="/contact/contact.html">Login / Signup</a></button></li>
        </ul>
      </div>
    </div>
    <div class="burger">
      <!-- <div class="line"></div>
        <div class="line"></div>
        <div class="line"></div> -->
      <div class="phone_burger" style="display: flex;">
        <span id="burger1" style="position: relative; right: 40px;z-index: 9;" class="material-symbols-outlined">
          search
        </span>
        <span id="burger1" style="position: relative; right: 20px;z-index: 9;" onclick="burger()" class="material-symbols-outlined">
          lunch_dining
        </span>
      </div>
    </div>
    <div class="after-nav">
      <a href="/index.html"><span id="home_icon" class="material-symbols-outlined">home_app_logo</span></a>
      <ul>
        <a href="">
          <li class="after_nav_ul_li">HTML</li>
        </a>
        <a href="">
          <li class="after_nav_ul_li">CSS</li>
        </a>
        <a href="">
          <li class="after_nav_ul_li">Javascript</li>
        </a>
        <a href="">
          <li class="after_nav_ul_li">PYTHON</li>
        </a>
        <a href="">
          <li class="after_nav_ul_li">C</li>
        </a>
        <a href="">
          <li class="after_nav_ul_li">C++</li>
        </a>
        <a href="">
          <li class="after_nav_ul_li">JAVA</li>
        </a>
        <div class="search">
          <input type="search" name="" id="" placeholder="Search Here">
        </div>
      </ul>
      <span id="search" class="material-symbols-outlined">
        search
      </span>
    </div>
    <hr id="hr">
  </div>
<!-- Preloader -->
<div class="preloader">
  <div class="loader"></div>
</div>
  <div style="width: 100%; height: 50px;"></div>
  <div class="container" id="posts">
    <!-- Blog posts will be displayed here -->
</div>

  <footer class="text-gray-600 body-font">
    <div class="container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col">
      <a class="flex title-font font-medium items-center md:justify-start justify-center text-gray-900">
        <!-- <svg xmlns="images/heroimage.jpeg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-10 h-10 text-white p-2 bg-blue-500 rounded-full" viewBox="0 0 24 24">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
            </svg> -->
        <img alt="testimonial" src="/images/logu.png"
          class="w-12 h-12 rounded-full flex-shrink-0 object-cover object-center">
        <span class="ml-3 text-xl" style="color: black;">BUBBLES.COM</span>
      </a>
      <p class="text-sm text-gray-500 sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-gray-200 sm:py-2 sm:mt-0 mt-4">© 2023-24
        Bubbles.com —
        <a href="https://www.instagram.com/abu_jandal_____7/" class="text-gray-600 ml-1" rel="noopener noreferrer"
          target="_blank">@abu_jandal</a>
      </p>
      <span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start">
        <a class="text-gray-500">
          <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5"
            viewBox="0 0 24 24">
            <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500">
          <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5"
            viewBox="0 0 24 24">
            <path
              d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z">
            </path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500">
          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            class="w-5 h-5" viewBox="0 0 24 24">
            <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
            <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500">
          <svg fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0"
            class="w-5 h-5" viewBox="0 0 24 24">
            <path stroke="none"
              d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"></path>
            <circle cx="4" cy="4" r="2" stroke="none"></circle>
          </svg>
        </a>
      </span>
    </div>
  </footer>
</body>
<script>
async function fetchBlogPosts() {
    const apiKey = 'AIzaSyAIaXEG4QaPk0YxyS-DWWu9-G2yR46fqT8'; // Replace with your actual API key
    const spreadsheetId = '1w5rvRWupWJfC0mUpYsjjq-XcifalD9yBPxvVFdeKQx0';
    const range = 'Sheet1!A2:E'; // Adjust the range according to your sheet

    try {
        const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${range}?key=${apiKey}`);
        const data = await response.json();
        const postsContainer = document.getElementById('posts');

        if (data.values) {
            // Reverse the order of the posts array to display the latest post first
            const reversedPosts = data.values.reverse();

            reversedPosts.forEach((post, reversedIndex) => {
                const [title, content, date, thumbnail] = post;
                const originalIndex = data.values.length - 1 - reversedIndex;

                const postElement = document.createElement('div');
                postElement.className = 'post';
                postElement.addEventListener('click', () => {
                    window.location.href = `post.html?index=${originalIndex}`;
                });

                // Create and append the thumbnail image if the URL is valid
                if (thumbnail) {
                    const thumbnailImage = document.createElement('img');
                    thumbnailImage.className = 'thumbnail';
                    thumbnailImage.src = thumbnail;
                    thumbnailImage.alt = `${title} thumbnail`;
                    postElement.appendChild(thumbnailImage);
                }

                const postContent = document.createElement('div');
                postContent.className = 'post-content';

                const postTitle = document.createElement('h2');
                postTitle.innerText = title;

                const postDate = document.createElement('p');
                postDate.className = 'date';
                postDate.innerText = `Posted on: ${date}`;

                const postSnippet = document.createElement('p');
                if (isValidUrl(content)) {
                    fetchContentFromUrl(content).then(fetchedContent => {
                        postSnippet.innerText = getPlainText(fetchedContent).substring(0, 200) + '...';
                    }).catch(error => {
                        console.error('Error fetching content from URL: ', error);
                        postSnippet.innerText = 'Failed to load content.';
                    });
                } else {
                    postSnippet.innerText = content.substring(0, 200) + '...';
                }

                postContent.appendChild(postTitle);
                postContent.appendChild(postDate);
                postContent.appendChild(postSnippet);

                postElement.appendChild(postContent);

                postsContainer.appendChild(postElement);
            });
        } else {
            const noPostsMessage = document.createElement('p');
            noPostsMessage.innerText = 'No blog posts available.';
            postsContainer.appendChild(noPostsMessage);
        }
    } catch (error) {
        console.error('Error fetching data: ', error);
        const errorMessage = document.createElement('p');
        errorMessage.innerText = 'Failed to fetch blog posts.';
        document.getElementById('posts').appendChild(errorMessage);
    }
}

function isValidUrl(string) {
    try {
        new URL(string);
        return true;
    } catch (_) {
        return false;
    }
}

async function fetchContentFromUrl(url) {
    const response = await fetch(url);
    const text = await response.text();
    return text;
}

function getPlainText(html) {
    const doc = new DOMParser().parseFromString(html, 'text/html');
    return doc.body.textContent || "";
}

document.addEventListener('DOMContentLoaded', fetchBlogPosts);

    </script>

</html>